<!DOCTYPE html>
<html lang="ru">
<head>
  <link rel="stylesheet" href="espshell.css">
  <title>ESPShell : Настройки компиляции : Настройка ESPShell</title>
</head>
<body>
<p align=center><a href="index.ru.html"><img src="i/espshell_logo.jpg" alt="ESPShell for Arduino :: Кастомизация ESPShell : настройки" width="70%" height="70%" /></a></p>
<h3 align=center><a href="Customizing.ru.html">[ На русском ]</a>&nbsp;&harr;&nbsp;<a href="Customizing.html">[ English ]</a></h3>
<h2>НАСТРОЙКИ КОМПИЛЯЦИИ ESPSHELL</h2>
<p>
ESPShell может быть настроен (до компиляции) с помощью <i>параметров оболочки</i>, которые задаются через макроопределения в начале файла <b>espshell.h</b>:
<pre>
#ifndef espshell_h
#define espshell_h

// Code version, dont change. 
#define ESPSHELL_VERSION "0.99.8"

// -- Compile-time ESPShell settings --
//
#define AUTOSTART 1              // Установите 0 для ручного запуска оболочки через espshell_start().
#define STACKSIZE (5 * 1024)     // Размер стека задачи оболочки

#define WITH_HELP 1              // Установите 0, чтобы сэкономить память за счёт исключения справки и связанных функций
#define WITH_HISTORY 1           // Включить историю команд (!! установите 0 при использовании MEMTEST !!)
#define HIST_SIZE 20             // Размер буфера истории (число запоминаемых команд)

#define WITH_ESPCAM 1            // Включить команды для работы с камерой

#define WITH_VAR 1               // Включить поддержку переменных скетча

#define STARTUP_ECHO 1           // Режим эхо при запуске оболочки (-1=чёрная дыра, 0=без эхо, 1=с эхо)
#define WITH_COLOR 1             // Включить поддержку цветов в терминале
#define AUTO_COLOR 1             // Разрешить ESPShell автоматически выбирать, включать ли цвета. Команда "color on|off|auto" управляет этим

#define WITH_FS 1                // Поддержка файловых систем (fat/spiffs/littlefs)
#define MOUNTPOINTS_NUM 5        // Максимальное число одновременно смонтированных файловых систем
#define WITH_SPIFFS 1            // Поддержка файловой системы SPIFFS
#define WITH_LITTLEFS 1          // Поддержка LittleFS
#define WITH_FAT 1               // Поддержка FAT (включите, если хотите использовать WITH_SD)
#define WITH_SD 1                // Поддержка файловой системы FAT на SD/TF карте через SPI
#define DIR_RECURSION_DEPTH 127  // Максимальная глубина рекурсии каталогов. TODO: протестировать длинный путь вида "/a/a/a/.../a"

#define SEQUENCES_NUM 10         // Максимальное количество последовательностей, доступных для команды "sequence"

#if ARDUINO_USB_CDC_ON_BOOT      // Режим USB?
#  define SERIAL_IS_USB 1        
#  define STARTUP_PORT 99        // не изменяйте это значение
#else                             
#  define SERIAL_IS_USB 0
#  define STARTUP_PORT UART_NUM_0  // UART-порт, на котором запускается оболочка. Можно изменить.
#endif                            
</pre>

Комментарии в коде достаточно пояснительные.
</p>
</body>
</html>
