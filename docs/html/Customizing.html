<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="espshell.css">
  <title>ESPShell : Compile-time settings : Customizing ESPShell</title>
  <meta charset="UTF-8">
</head>
<body>
<p align=center><a href="index.html"><img src="i/espshell_logo.jpg" alt="ESPShell for Arduino :: Customizing ESPShell : compile-time settings" width="70%" height="70%" /></a></p>
<h3 align=center><a href="Customizing.ru.html">[ На русском ]</a>&nbsp;&harr;&nbsp;<a href="Customizing.html">[ English ]</a></h3>
<h2>ESPSHELL COMPILE-TIME SETTINGS</h2>
<p>
ESPShell can be configured (before compilation) by adjusting <i>shell settings</i>, which are macro definitions, located at the beginning of the <b><a href="https://github.com/vvb333007/espshell/blob/main/src/espshell.h">espshell.h</a></b>

<pre>
#ifndef espshell_h
#define espshell_h

// Code version, dont change. 
#define ESPSHELL_VERSION "0.99.8"

// -- Compile-time ESPShell settings --
//
#define AUTOSTART 1
#define STACKSIZE (5 * 1024)

#define WITH_HELP 1
#define WITH_HISTORY 1
#define HIST_SIZE 20

#define WITH_ESPCAM 1

#define WITH_VAR 1

#define STARTUP_ECHO 1
#define WITH_COLOR 1
#define AUTO_COLOR 1

#define WITH_FS 1
#define MOUNTPOINTS_NUM 5
#define WITH_SPIFFS 1
#define WITH_LITTLEFS 1
#define WITH_FAT 1
#define WITH_SD 1
#define DIR_RECURSION_DEPTH 127

#define SEQUENCES_NUM 10

#if ARDUINO_USB_CDC_ON_BOOT      
#  define SERIAL_IS_USB 1        
#  define STARTUP_PORT 99        
#else                             
#  define SERIAL_IS_USB 0
#  define STARTUP_PORT UART_NUM_0
#endif                            
...
...
</pre>
</p>
<p>


<table><tr><td><p><b>Symbol</b></p></td><td><p><b>Meaning</b></p></td></tr>
<tr><td><p><b>ESPSHELL_VERSION</b></p></td><td><p></p></td></tr>
<tr><td><p><b>AUTOSTART</b></p></td><td><p>Set to 0 for manual shell start via espshell_start().</p></td></tr>
<tr><td><p><b>STACKSIZE</b></p></td><td><p>Shell task stack size</p></td></tr>
<tr><td><p><b>WITH_HELP</b></p></td><td><p>Set to 0 to save some program space by excluding help strings/functions</p></td></tr>
<tr><td><p><b>WITH_HISTORY</b></p></td><td><p>Enable command history (!! set to 0 when using MEMTEST !!)</p></td></tr>
<tr><td><p><b>HIST_SIZE</b></p></td><td><p>History buffer size (number of commands to remember)</p></td></tr>
<tr><td><p><b>WITH_ESPCAM</b></p></td><td><p>Include camera commands</p></td></tr>
<tr><td><p><b>WITH_VAR</b></p></td><td><p>enable support for sketch variables</p></td></tr>
<tr><td><p><b>STARTUP_ECHO</b></p></td><td><p>echo mode at espshell startup (-1=blackhole, 0=no echo or 1=echo)</p></td></tr>
<tr><td><p><b>WITH_COLOR</b></p></td><td><p>Enable terminal colors support </p></td></tr>
<tr><td><p><b>AUTO_COLOR</b></p></td><td><p>Let ESPShell decide wheither to enable coloring or not. Command "color on|off|auto" is about that</p></td></tr>
<tr><td><p><b>WITH_FS</b></p></td><td><p>Filesystems (fat/spiffs/littlefs) support</p></td></tr>
<tr><td><p><b>MOUNTPOINTS_NUM</b></p></td><td><p>Max number of simultaneously mounted filesystems</p></td></tr>
<tr><td><p><b>WITH_SPIFFS</b></p></td><td><p>support SPIF filesystem</p></td></tr>
<tr><td><p><b>WITH_LITTLEFS</b></p></td><td><p>  --    LittleFS</p></td></tr>
<tr><td><p><b>WITH_FAT</b></p></td><td><p>  --    FAT (enable it if you want to enable WITH_SD below )</p></td></tr>
<tr><td><p><b>WITH_SD</b></p></td><td><p>Support FAT filesystem on SD/TF card over SPI</p></td></tr>
<tr><td><p><b>DIR_RECURSION_DEPTH</b></p></td><td><p>Max directory depth TODO: make a test with long "/a/a/a/.../a" path</p></td></tr>
<tr><td><p><b>SEQUENCES_NUM</b></p></td><td><p>Max number of sequences available for the command "sequence"</p></td></tr>
<tr><td><p><b>STARTUP_PORT UART_NUM_0</b></p></td><td><p>UART number, where shell will be deployed at startup. can be changed.</p></td></tr>

</table>
</body>
</html>
